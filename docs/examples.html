

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>4. Examples &mdash; SeidarT  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. Routines and wrappers" href="routines.html" />
    <link rel="prev" title="3. Getting Started" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SeidarT
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">3. Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#shapes-model">4.1. Shapes model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="routines.html">5. Routines and wrappers</a></li>
</ul>
<p class="caption"><span class="caption-text">Extra material</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendices</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>
<p class="caption"><span class="caption-text">Initialize</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="prjbuild.html">prjbuild</a></li>
</ul>
<p class="caption"><span class="caption-text">Run</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sourcefunction.html">sourcefunction</a></li>
<li class="toctree-l1"><a class="reference internal" href="prjrun.html">prjrun</a></li>
<li class="toctree-l1"><a class="reference internal" href="common_offset.html">common_offset</a></li>
<li class="toctree-l1"><a class="reference internal" href="common_midpoint.html">common_midpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="orientation_tensor.html">orientation_tensor</a></li>
</ul>
<p class="caption"><span class="caption-text">Plot and visualize</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="arraybuild.html">arraybuild</a></li>
<li class="toctree-l1"><a class="reference internal" href="rcxdisplay.html">rcxdisplay</a></li>
<li class="toctree-l1"><a class="reference internal" href="wiggleplot.html">wiggleplot</a></li>
<li class="toctree-l1"><a class="reference internal" href="im2anim.html">im2anim</a></li>
<li class="toctree-l1"><a class="reference internal" href="vtkbuild.html">vtkbuild</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SeidarT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">4. </span>Examples</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/examples.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="examples">
<h1><span class="section-number">4. </span>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<p>The following are small, simple models to introduce the routines.</p>
<div class="section" id="shapes-model">
<h2><span class="section-number">4.1. </span>Shapes model<a class="headerlink" href="#shapes-model" title="Permalink to this headline">¶</a></h2>
<p><em>Seismic and Electromagnetic Wavefields</em></p>
<div class="figure align-center" id="id1">
<span id="example1"></span><img alt="_images/shapes.png" src="_images/shapes.png" />
<p class="caption"><span class="caption-text">The model PNG domain for the “shapes” example.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>After running the install script without errors then adding the
program file parent directy to the path, open a terminal and change
directories into the EXAMPLES folder. Input into the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">prjbuild</span> <span class="o">-</span><span class="n">i</span> <span class="n">shapes</span><span class="o">.</span><span class="n">png</span> <span class="o">-</span><span class="n">o</span> <span class="n">shapes</span><span class="o">.</span><span class="n">prj</span>
</pre></div>
</div>
<p>Then using a text editor to modify <code class="docutils literal notranslate"><span class="pre">shapes.prj</span></code>, fill in the
missing domain values for 1 meter spacing in both directions and an
absorbing boundary of 30 pixels as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">D</span><span class="p">,</span><span class="n">dx</span><span class="p">,</span><span class="mi">1</span>
<span class="n">D</span><span class="p">,</span><span class="n">dy</span><span class="p">,</span><span class="n">n</span><span class="o">/</span><span class="n">a</span>
<span class="n">D</span><span class="p">,</span><span class="n">dz</span><span class="p">,</span><span class="mi">1</span>
<span class="n">D</span><span class="p">,</span><span class="n">cpml</span><span class="p">,</span><span class="mi">30</span>
<span class="n">D</span><span class="p">,</span><span class="n">write</span><span class="p">,</span><span class="mi">10</span>
</pre></div>
</div>
<p>then add the following material values</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">M</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">granite</span><span class="p">,</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2540</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span>
<span class="n">M</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">water</span><span class="p">,</span><span class="mi">0</span><span class="o">/</span><span class="mi">100</span><span class="o">/</span><span class="mi">200</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span>
<span class="n">M</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">ice1h</span><span class="p">,</span><span class="mi">50</span><span class="o">/</span><span class="mi">50</span><span class="o">/</span><span class="mi">200</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">910</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span>
<span class="n">M</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">wet_sand</span><span class="p">,</span><span class="mi">80</span><span class="o">/</span><span class="mi">120</span><span class="o">/</span><span class="mi">120</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1500</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span>
<span class="n">M</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">ice1h</span><span class="p">,</span><span class="mi">120</span><span class="o">/</span><span class="mi">152</span><span class="o">/</span><span class="mi">200</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">910</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span>
<span class="n">M</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">basalt</span><span class="p">,</span><span class="mi">200</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1200</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span>
<span class="n">M</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="n">air</span><span class="p">,</span><span class="mi">200</span><span class="o">/</span><span class="mi">240</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span>
</pre></div>
</div>
<p>the source parameters for a seismic source just below the surface on
the right side of the domain</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">S</span><span class="p">,</span><span class="n">dt</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span><span class="n">time_steps</span><span class="p">,</span><span class="mi">2500</span> <span class="n">S</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="mi">280</span> <span class="n">S</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="mi">0</span> <span class="n">S</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="mi">21</span> <span class="n">S</span><span class="p">,</span><span class="n">f0</span><span class="p">,</span><span class="mi">80</span> <span class="n">S</span><span class="p">,</span><span class="n">theta</span><span class="p">,</span><span class="mi">0</span> <span class="n">S</span><span class="p">,</span><span class="n">phi</span><span class="p">,</span><span class="mi">0</span>
</pre></div>
</div>
<p>and the source parameters for a transverse radar pulse source in the
same location as the seismic source except at the surface</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">E</span><span class="p">,</span><span class="n">dt</span><span class="p">,</span> <span class="n">E</span><span class="p">,</span><span class="n">time_steps</span><span class="p">,</span><span class="mi">1600</span> <span class="n">E</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="mi">150</span> <span class="n">E</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="mi">0</span> <span class="n">E</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="mi">20</span> <span class="n">E</span><span class="p">,</span><span class="n">f0</span><span class="p">,</span><span class="mf">1e7</span> <span class="n">E</span><span class="p">,</span><span class="n">theta</span><span class="p">,</span><span class="mi">90</span>
</pre></div>
</div>
<p>All lines that start with a <code class="docutils literal notranslate"><span class="pre">#</span></code> are commented lines but without the
correct identifiers ‘D’, ‘M’, ‘S’, ‘C’, ‘E’, and ‘P’ the line will
not be read by the computer so it is possible to make notes in the
project file. If in doubt, and for good habit, use a hashtag.</p>
<p>For reference, you can use the RGB values to identify the materials
so it is important to keep track of these when creating a geometry.
In this case, the top very light blue/green is air (M,6), the blue
dot (M,1) is water, the red line (M,5) is a dirty horizon of ice, the
dark blue (M,2) is saturated porous ice (2% porosity, 30% water
content) while the overlying lavender (M,4) is porous colder ice, the
green (M,3) is a moderately saturated till layer, and all underlain by
granite bedrock (M,0).</p>
<p>After filling in the domain and material values save then run the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">prjrun</span> <span class="n">shapes</span><span class="o">.</span><span class="n">prj</span> <span class="o">-</span><span class="n">M</span> <span class="n">n</span>
</pre></div>
</div>
<p>Even though we have all the required fields entered the model didn’t
run because we used the ‘-M n’ option. This is because basalt was
inserted as an arbitrary material type in the project file as a
placeholder and to output values. We can just as well use ‘ice1h’ or
any other material in the python dictionary. The project file is now
updated so we can edit the ‘S,5’ and ‘P,5’ coefficients to be between
the ‘ice1h’ values and basalt values. Values closer to ice are
reasonable with conductivity values closer to granite or basalt. I
chose</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">1.58e10</span><span class="p">,</span> <span class="mf">8.44e9</span><span class="p">,</span> <span class="mf">8.44e9</span><span class="p">,</span> <span class="mf">1.58e10</span><span class="p">,</span> <span class="mf">8.44e9</span><span class="p">,</span> <span class="mf">1.58e10</span><span class="p">,</span> <span class="mf">2.67e10</span><span class="p">,</span> <span class="mf">2.67e10</span><span class="p">,</span> <span class="mf">2.67e10</span><span class="p">,</span> <span class="mf">1050.0</span>

<span class="n">P</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">3.8</span><span class="p">,</span><span class="mf">3.8</span><span class="p">,</span><span class="mf">3.8</span><span class="p">,</span><span class="mf">1e-05</span><span class="p">,</span><span class="mf">1e-05</span><span class="p">,</span><span class="mf">1e-05</span>
</pre></div>
</div>
<p>Since large density gradients cause numerical instabilities, the
density for air must be increased. A value of 400.0 works until a
better formulation of the air-rock interface is implemented. Now you
can run the model (both seismic and electromagnetic):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">prjrun</span> <span class="n">shapes</span><span class="o">.</span><span class="n">prj</span> <span class="o">-</span><span class="n">M</span> <span class="n">b</span>
</pre></div>
</div>
<p>When that is finished let’s build the GIF to view the wavefield.
Starting with the seismic wavefield, enter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im2anim</span> <span class="n">shapes</span><span class="o">.</span><span class="n">prj</span> <span class="o">-</span><span class="n">c</span> <span class="o">-</span><span class="n">n</span> <span class="mi">10</span> <span class="n">Vx</span> <span class="o">-</span><span class="n">f</span> <span class="mi">30</span>
</pre></div>
</div>
<p>then repeat when the command line returns but change the ‘-c’ option
to ‘Vz’, ‘Ex’, or ‘Ez’. Alternatively, you could change the frame rate
(-f) to a higher or smaller number to adjust the speed of the GIF. We
specified the ‘D,write’ parameter to 10 which is a little undersampled
to view seismograms or radargrams but creating the GIF takes some time
and we don’t need that much resolution. If you would like to create
the seismograms decrease the write parameter between 2-4.</p>
<p><a class="reference external" href="#top">Back to top ↑</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="routines.html" class="btn btn-neutral float-right" title="5. Routines and wrappers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="getting_started.html" class="btn btn-neutral float-left" title="3. Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Steven Bernsen.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>